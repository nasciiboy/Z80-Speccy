<!-- This page generated automatically by Icarus' HTMLWiz. http://icarus.ticalc.org -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<HTML LANG="en-US">
<HEAD>
<META HTTP-EQUIV="Author" CONTENT="Andreas Ess">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="DESCRIPTION" CONTENT="Icarus Productions produces state-of-the-art Gameboy Color and TI-8x software">
<META NAME="KEYWORDS" CONTENT="Icarus, Icarus Productions, icarus productions, productions, Andreas Ess, Johannes Rajala, Jimmy Mardell, Matthew Shepcar, Clem Vasseur, Usgard, Daedalus, Pc, Computer, Computers, OpenGL, TI-85, TI85, TI-86, TI86, Game Boy, Gameboy Color, Gbc, Texas Instruments, TI, Calculator, Calculators, Sqrxz, Balloon, XC-1701, Planejump, Plainjump">
<TITLE>Icarus Productions - ZPC - problems 05/02/1999</TITLE>

<LINK REL=stylesheet TYPE="text/css" HREF="../ip.css">
<SCRIPT language="JavaScript">
<!--
var isNS = (navigator.appName == "Netscape");
var isDynamic = (document.layers || document.all);
var layerRef = (isNS) ? "document" : "document.all";
var styleRef = (isNS) ? "" : ".style";
var l, r, b;
var pos = new Array(200,24, 315,24, 435,24, 531,24, 595,120);

function showLayer() {
 var i, j, vis, args;
 l = 1000;
 j = r = b = 0;
 args = showLayer.arguments;
 for(i=1;i<6;i++) {
  vis = 0;
  if(j<args.length)
   if(args[j]==i) { vis = 1; j++; }

  menuID = "Lyr" + i;
  if(vis) 
   eval(layerRef + '["' + menuID + '"]' + styleRef + '.visibility = "visible"');
  else
   eval(layerRef + '["' + menuID + '"]' + styleRef + '.visibility = "hidden"');
  
  if(vis) {
   if(l>pos[(i-1)*2]) l = pos[(i-1)*2];
   if(r<pos[(i-1)*2]+160) r = pos[(i-1)*2]+160;
   if(isNS) {
    document[menuID].left = pos[(i-1)*2] + 5;
    document[menuID].top = pos[(i-1)*2+1] - 4;
    if(b<args[j-1]+document[menuID].clip.bottom) b = args[j-1]+document[menuID].clip.bottom;
   } else {
    document.all[menuID].style.pixelLeft = pos[(i-1)*2];
    document.all[menuID].style.pixelTop = pos[(i-1)*2+1];
    if(b<pos[(i-1)*2+1]+150) b = pos[(i-1)*2+1]+150;
   }
  }
 }
}

function killMenu(evt) {
 if(isNS) {
  if(evt.pageX<l||evt.pageX>r||evt.pageY>b) showLayer();
 } else
  if(window.event.clientX<l||window.event.clientX>r||window.event.clientY>b) showLayer();
}

function Init() {
 if(isDynamic) {
  if(isNS) {
   document.captureEvents(Event.MOUSEMOVE); 
   document.onmousemove = killMenu;
  } else document.onmousemove = killMenu;
 }
}

//-->
</SCRIPT>
<SCRIPT language="JavaScript1.2">
<!--
   var isNS = (navigator.appName == "Netscape");

   ////////Fix Netscape Resize bug//////
   NS4 = document.layers;
   if (NS4) {
      origWidth = innerWidth;
      origHeight = innerHeight;
   }

function reDo() {
   if (innerWidth != origWidth || innerHeight != origHeight) 
      location.reload();
}

if (NS4) onresize = reDo;
//-->
</SCRIPT>
</HEAD>

<BODY bgcolor=#FFFFFF link=#6800A0 vlink=#6800A0 LEFTMARGIN=0 MARGINWIDTH=0 TOPMARGIN=0 MARGINHEIGHT=0 onLoad="Init()">

<A NAME="top">

 <SCRIPT LANGUAGE="JavaScript1.2" SRC="../bin/layers.js"></SCRIPT>

<TABLE cellspacing=0 cellpadding=0 border=0>
  <TR> 
    <TD width=190 height=450 rowspan=2 valign=top background="../img/web_left.gif"><A HREF="../index.html"><IMG src="../img/iplogo.gif" width=190 height=200 alt="[Icarus Productions] - Click for main page" border=0></A></TD>
    <TD width=80 height=24 align=center valign=center background="../img/web_top.gif"> 
     <A CLASS=contents HREF="../aboutus.html" onMouseOver="showLayer(1)">The team</A></TD>
    <TD width=105 align=center valign=center background="../img/web_top.gif"> 
     <A CLASS=contents HREF="../hicolour.html" onMouseOver="showLayer(2)">Projects</A></TD>
    <TD width=80 align=center valign=center background="../img/web_top.gif"> 
     <A CLASS=contents HREF="../articles/hicol_faq.html" onMouseOver="showLayer(3)">Articles</A></TD>
    <TD width=80 align=center valign=center background="../img/web_top.gif"> 
     <A CLASS=contents HREF="zpc.html" onMouseOver="showLayer(4)">Features</A></TD>
    <TD width=12 valign=top> <img src="../img/top_end.gif" width=12 height=24></TD>
  </TR>

  <TR>
    <TD width=429 height=420 colspan=4 valign=top> 

<TABLE WIDTH=99%><TR><TD>
<DIV ALIGN=JUSTIFY>

The list of the winners of the contest which ended 05/02/99:<P>


<TABLE CLASS=nrm WIDTH=400 ALIGN=CENTER CELLSPACING=1>
<TR>
 <TH BACKGROUND="../img/web_top.gif" CLASS=nrm WIDTH=100 HEIGHT=23>Place</TH>
 <TH BACKGROUND="../img/web_top.gif" CLASS=nrm WIDTH=300>Name</TH>
 <TH BACKGROUND="../img/web_top.gif" CLASS=nrm WIDTH=50>Score</TH>
 <TH BACKGROUND="../img/web_top.gif" CLASS=nrm WIDTH=100>Sum</TH>
</TR>
<TR CLASS=nrm>
 <TD ALGIN=CENTER>1.</TD>
 <TD ALIGN=CENTER><A HREF="mailto:JayEll64@aol.com">Jeff Hellrung</A></TD>
 <TD ALIGN=CENTER>350</TD>
 <TD ALIGN=CENTER><A HREF="win0502.zip">350</A></TD>
</TR>
<TR CLASS=nrm>
 <TD ALGIN=CENTER>2.</TD>
 <TD ALIGN=CENTER><A HREF="mailto:ComAsYuAre@aol.com">Jonah Cohen</A></TD>
 <TD ALIGN=CENTER>406</TD>
 <TD ALIGN=CENTER>406</TD>
</TR>
</TABLE><P>


This <A HREF="rout0502.zip">ZIP</A> contains all the solutions sent in. Be aware of the fact that some may not work!

These were the problems to be solved:<P>


<B>Optimization:</B> Size<P>


Unless otherwise specified, all strings are Z-strings.<P>


<TABLE CLASS=nrm WIDTH=100% ALIGN=CENTER CELLSPACING=1 BORDER=0>
<TR BGCOLOR=#C4D4E4><TD><FONT SIZE=2><B>Problem &nbsp;</B></FONT></TD></TR>
</TABLE><BR>
Number Spellout<P>
<TABLE BORDER=0 CELLSPACING=0>
<TR><TD VALIGN=TOP WIDTH=60>Input:</TD><TD>HL <FONT FACE="Symbol">®</FONT> free space<BR>BCDE = number between 0 and 999999999</TD></TR>
<TR><TD VALIGN=TOP>Output:</TD><TD>BCDE will contain a 32 bit number (LSB in E, MSB in B) with <I>at most</I> 9 decimal digits (you may assume this), which should be spelled out, according to the rules below. The string should be created at HL, which will point to enough free memory for the correct answer. The string should terminate with a null byte. When the routine is done, HL should point to the beginning of the string (ie, HL should be preserved). </TD></TR>
<TR><TD VALIGN=TOP>Special:</TD><TD>You may <I>not</I> use any temporary memory! You'll have to include any temporary space in the program code itself.</TD></TR>
</TABLE><P>

<H2>Rules for spelling</H2>

<UL>
<LI><FONT FACE=Arial SIZE=2>Spelling for <I>ones</I>: <B>zero</B>, <B>one</B>, <B>two</B>, <B>three</B>, <B>four</B>, <B>five</B>, <B>six</B>, <B>seven</B>, <B>eight</B>, <B>nine</B>
<LI><FONT FACE=Arial SIZE=2>Spelling for <I>teens</I>: <B>ten</B>, <B>eleven</B>, <B>twelve</B>, <B>thirteen</B>, <B>fourteen</B>, <B>fifteen</B>, <B>sixteen</B>, <B>seventeen</B>, <B>eighteen</B>, <B>nineteen</B>
<LI><FONT FACE=Arial SIZE=2>Spelling for <I>tens</I>: <B>twenty</B>, <B>thirty</B>, <B>forty</B>, <B>fifty</B>, <B>sixty</B>, <B>seventy</B>, <B>eighty</B>, <B>ninety</B>
<LI><FONT FACE=Arial SIZE=2>Spelling for <I>hundreds</I>: <B>hundred</B>, <B>thousand</B>, <B>million</B>
<LI><FONT FACE=Arial SIZE=2>A white blank should separate each of the numbers above, <I>except</I> between ones and tens, where are hyphen ('-') should be used.
<LI><FONT FACE=Arial SIZE=2>No pluralization should be done.
</UL>

<B>Examples</B>
<P>

<TABLE BORDER=0 CELLSPACING=0>
<TR><TD VALIGN=TOP WIDTH=60>Input:</TD><TD>BCDE = 50312</TD></TR>
<TR><TD VALIGN=TOP>Output:</TD><TD>HL -> "fifty thousand three hundred twelve"</TD></TR>
</TABLE><P>
<TABLE BORDER=0 CELLSPACING=0>
<TR><TD VALIGN=TOP WIDTH=60>Input:</TD><TD>BCDE = 198000</TD></TR>
<TR><TD VALIGN=TOP>Output:</TD><TD>HL -> "one hundred ninety-eight thousand"</TD></TR>
</TABLE><P>
<TABLE BORDER=0 CELLSPACING=0>
<TR><TD VALIGN=TOP WIDTH=60>Input:</TD><TD>BCDE = 10000000</TD></TR>
<TR><TD VALIGN=TOP>Output:</TD><TD>HL -> "ten million"</TD></TR>
</TABLE><P>
<TABLE BORDER=0 CELLSPACING=0>
<TR><TD VALIGN=TOP WIDTH=60>Input:</TD><TD>BCDE = 123456789</TD></TR>
<TR><TD VALIGN=TOP>Output:</TD><TD>HL -> "one hundred twenty-three million four hundred fifty-six thousand seven hundred eighty-nine"</TD></TR>
</TABLE><P>

<H2>Hint and advice</H2>

<P>
<B>Algorithm</B><P>

<A HREF=http://www.ibm.com/java/education/spellout/spellout.html>This page</A> has a simple algorithm (in Java) for the spellout procedure.

<P>
<B>Extracting digits</B><P>

The following piece of code will extract the last digit in BCDE and store it in A, while at the same time dividing BCDE with ten. Please note that you do <I>not</I> have to use this routine! If you do, the size will count.

<PRE>
; Input:    BCDE = 32 bit
; Output:   BCDE = BCDE/10, A = BCDE mod 10

Extract:
 push hl
 xor a 
 ld hl,$200A 
ELoop:
 sla e
 rl d
 rl c
 rl b
 rla
 cp l
 jr c,ESkip
 sub l
 inc e
ESkip:
 dec h
 jr nz,ELoop
 pop hl
 ret
</PRE>

<P>
<B>Defining 32 bit numbers</B><P>

The following simple macro can be used to store a 32 bit number in two 16 bit registers.

<PRE>
#define ld_bcde(x) ld bc,(x)>>16 \ ld de,(x)&$FFFF
</PRE>


</DIV>
</TD></TR></TABLE>

    </TD>
    <TD>&nbsp;</TD>
  </TR>
  <TR> 
    <TD width=190 height=120 rowspan=3 valign=top><IMG src="../img/web_corn.gif" width=190 height=120></TD>
    <TD colspan=4 valign=top height=54>&nbsp;</TD>
  </TR>
  <TR>
    <TD BACKGROUND="../img/web_top.gif" colspan=3><I><B><FONT COLOR=#ffffff>Page last updated on Mon May 17 00:17:10 1999
</FONT></B></I></TD>
    <TD BACKGROUND="../img/web_top.gif" align=right><A HREF="mailto:support@icarus.ticalc.org"><img src="../img/inset1.gif" border=0 alt="E-mail us!"></A><A HREF="zpc_0502.html#top"><img src="../img/inset2.gif" border=0 alt="Top of page"></A></TD>
    <TD><img src="../img/top_end.gif" width=12 height=24></TD>
  </TR>
  <TR>
    <TD width=429 height=1 valign=top colspan=4><IMG width=429 height=42 src="../img/transparent.gif"></TD>
    <TD>&nbsp;</TD>
  </TR>
</TABLE>

</BODY>
</HTML>

